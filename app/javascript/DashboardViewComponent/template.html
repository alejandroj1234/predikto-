<section id="main-section">
    <ng4-loading-spinner> </ng4-loading-spinner>
    <header >
        <h1 >
            Currency Predictor
        </h1>
    </header>
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <h4 class="page-header">Select Primary Information</h4>
                <form #makePrediction="ngForm" (ngSubmit)="onSubmit(makePrediction.value); makePrediction.reset()" ngNativeValidate>
                    <div class="form-group float-label-control">
                        <label for="BaseCurrency">Base Currency</label>
                        <select name="base-currency" class="currency-drop-down form-control"  id="BaseCurrency" ngModel required>
                            <option value="aud">AUD</option>
                            <option value="bgn">BGN</option>
                            <option value="brl">BRL</option>
                            <option value="cad">CAD</option>
                            <option value="chf">CHF</option>
                            <option value="cny">CNY</option>
                            <option value="czk">CZK</option>
                            <option value="dkk">DKK</option>
                            <option value="eur">EUR</option>
                            <option value="gbp">GBP</option>
                            <option value="hkd">HKD</option>
                            <option value="hrk">HRK</option>
                            <option value="huf">HUF</option>
                            <option value="idr">IDR</option>
                            <option value="ils">ILS</option>
                            <option value="inr">INR</option>
                            <option value="jpy">JPY</option>
                            <option value="krw">KRW</option>
                            <option value="mxn">MXN</option>
                            <option value="myr">MYR</option>
                            <option value="nok">NOK</option>
                            <option value="nzd">NZD</option>
                            <option value="php">PHP</option>
                            <option value="pln">PLN</option>
                            <option value="ron">RON</option>
                            <option value="rub">RUB</option>
                            <option value="sek">SEK</option>
                            <option value="sgd">SGD</option>
                            <option value="thb">THB</option>
                            <option value="try">TRY</option>
                            <option value="usd">USD</option>
                            <option value="zar">ZAR</option>
                        </select>
                    </div>
                    <div class="form-group float-label-control">
                        <label for="TargetCurrency">Target Currency</label>
                        <select name="target-currency" class="currency-drop-down form-control"  id="TargetCurrency" ngModel required>
                            <option value="aud">AUD</option>
                            <option value="bgn">BGN</option>
                            <option value="brl">BRL</option>
                            <option value="cad">CAD</option>
                            <option value="chf">CHF</option>
                            <option value="cny">CNY</option>
                            <option value="czk">CZK</option>
                            <option value="dkk">DKK</option>
                            <option value="eur">EUR</option>
                            <option value="gbp">GBP</option>
                            <option value="hkd">HKD</option>
                            <option value="hrk">HRK</option>
                            <option value="huf">HUF</option>
                            <option value="idr">IDR</option>
                            <option value="ils">ILS</option>
                            <option value="inr">INR</option>
                            <option value="jpy">JPY</option>
                            <option value="krw">KRW</option>
                            <option value="mxn">MXN</option>
                            <option value="myr">MYR</option>
                            <option value="nok">NOK</option>
                            <option value="nzd">NZD</option>
                            <option value="php">PHP</option>
                            <option value="pln">PLN</option>
                            <option value="ron">RON</option>
                            <option value="rub">RUB</option>
                            <option value="sek">SEK</option>
                            <option value="sgd">SGD</option>
                            <option value="thb">THB</option>
                            <option value="try">TRY</option>
                            <option value="usd">USD</option>
                            <option value="zar">ZAR</option>
                        </select>
                    </div>
                    <div class="form-group float-label-control">
                        <label for="Amount">Amount</label>
                        <input type="number" class="form-control" name="amount" id="Amount" min=1 max=1000000000 required ngModel>
                    </div>
                    <div class="form-group float-label-control">
                        <label for="MaxWaitingTime">Max Waiting Time</label>
                        <input type="number" class="form-control" name="max-waiting-time" id="MaxWaitingTime" min=1 max=25 required ngModel>
                    </div>
                    <div class="form-group float-label-control">
                        <label for="CalculationName">Calculation Name</label>
                        <input type="text" class="form-control" name="calculation-name" id="CalculationName" required ngModel>
                    </div>
                    <button class="btn btn-lg btn-primary pull-right" type="submit">Submit Conversion</button>
                </form>
            </div>
            <div class="col-md-6">
                <h4 class="page-header">View Graph</h4>
                <div id="chart"></div>
            </div>
        </div>
        </br>
        </br>
        <div class="row">
            <div class="col-md-6">
                <h4 class="page-header">View All Calculations</h4>
                <table class="table table-striped">
                    <thead>
                    <tr>
                        <th>Calculation Name</th>
                        <th>View</th>
                        <th>Delete</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let calculation of calculations">
                        <td>{{calculation.calculation_name}}</td>
                        <td><button class="btn btn-lg btn-primary" on-click="viewCalculation(calculation)"></button></td>
                        <td><button class="btn btn-lg btn-primary" on-click="deleteCalculation(calculation)"></button></td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-md-6 pull-right">
                <h4 class="page-header">Weekly Summaries</h4>
                <table class="table table-striped">
                    <thead>
                    <tr>
                        <th>Date</th>
                        <th>Predicted Rate</th>
                        <th>Sum</th>
                        <th>Profit/loss</th>
                        <th>Rank</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let saved_weekly_calculation of saved_weekly_calculations">
                        <td>{{saved_weekly_calculation.year_and_week}}</td>
                        <td>{{saved_weekly_calculation.predicted_rate}}</td>
                        <td>{{saved_weekly_calculation.sum}}</td>
                        <td>{{saved_weekly_calculation.profit_loss}}</td>
                        <td>{{saved_weekly_calculation.rank}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</section>